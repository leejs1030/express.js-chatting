//- doctype html
//- html
//-     head
//-         title
//-             block title
//-         meta(charset='utf-8')
//-         meta(name='viewport',
//-              content='width=device-width, initial-scale=1')
//-         link(rel='stylesheet',
//-              href='/styles/bootstrap.min.css')
//-         link(rel='shortcut icon', href='#')
//-         script(src='/scripts/bootstrap.min.js', defer)
//-         script(src='/scripts/popper.min.js')
//-         script(src='/scripts/jquery-3.5.1.min.js')
//-         block scripts
//-     body
//-         nav.navbar.navbar-expand-lg.navbar-dark.bg-secondary
//-             .container
//-                 a(href='/', class='navbar-brand') DB Mail

                
//-                 ul.navbar-nav
//-                     li.nav-item
//-                         a.nav-link(href='/auth/sign_out') 로그 아웃
//-                     li.nav-item
//-                         a.nav-link(href='') 로그인 닉네임: #{user.nick}

//-         .container.mb-4
//-             .page-header.ml-4.mr-4.mt-4.mb-4
//-                 h2.mb-4
//-                     form(method='post')
//-                         input.form-control(name='targetid',
//-                             type='text',
//-                             placeholder = '상대방의 id를 입력해주세요')
//-                         input.btn.btn-primary.mr-5(type = 'submit',
//-                                 name = 'action',
//-                                 value = 'request')
//-                         input.btn.btn-primary.ml-5.float-right(type = 'submit',
//-                             name = 'action',
//-                             value = 'black')
                
//-         .container.mb-4
//-             .page-header.ml-4.mr-4.mt-4.mb-4
//-                 h1.mb-5.text-warning
//-                     |주의 사항: 아래는 id(닉네임)의 형태로 표시됩니다.
//-                 h2.mb-2
//-                     | 받은 요청
//-                 h5.mb-4
//-                     .list-group-item
//-                         each e in reqreceived
//-                             div.mb-4
//-                                 | #{e.sender_id}(#{e.sender_nick})
//-                                 .float-right
//-                                     a.btn.btn-primary.mr-2.ml-5(href=`/friends/allow/${e.sender_id}`) 수락
//-                                     a.btn.btn-primary(href=`/friends/reject/${e.sender_id}`) 거절
//-                                 br
//-                                 | #{e.req_time}
                            
//-                 h2.mb-2
//-                     |보낸 요청
//-                 h5.mb-4
//-                     .list-group-item
//-                         each e in reqsent
//-                             div.mb-4
//-                                 | #{e.receiver_id}(#{e.receiver_nick})
//-                                 .float-right
//-                                     a.btn.btn-primary.mr-2.ml-5(href=`/friends/cancel/${e.receiver_id}`) 취소
//-                                 br
//-                                 | #{e.req_time}
//-                 h2.mb-2
//-                     |친구 목록
//-                 h5.mb-4
//-                     .list-group-item
//-                         each e in friendlist
//-                             div.mb-4
//-                                 | #{e.id}(#{e.nick})
//-                                 a.btn.btn-primary.ml-5.float-right(href=`/friends/delete/${e.id}`) 삭제
//-                                 br
//-                                 | #{e.friend_date}
//-                 h2.mb-2
//-                     |차단 목록
//-                 h5.mb-4
//-                     .list-group-item
//-                         each e in blacklist
//-                             div.mb-4
//-                                 | #{e.id}(#{e.nick}) 
//-                                 a.btn.btn-primary.ml-5.float-right(href=`/friends/unblack/${e.id}`) 삭제
//-                                 br
//-                                 | #{e.black_date}
//-                                 br

extends ../layout.pug

block content
    .container.mb-4
        .page-header.ml-4.mr-4.mt-4.mb-4
            h2.mb-4
                form(method='post')
                    input.form-control(name='targetid',
                        type='text',
                        placeholder = '상대방의 id를 입력해주세요')
                    input.btn.btn-primary.mr-5(type = 'submit',
                            name = 'action',
                            value = 'request')
                    input.btn.btn-primary.ml-5.float-right(type = 'submit',
                        name = 'action',
                        value = 'black')
            
    .container.mb-4
        .page-header.ml-4.mr-4.mt-4.mb-4
            h1.mb-5.text-warning
                |주의 사항: 아래는 id(닉네임)의 형태로 표시됩니다.
            h2.mb-2
                | 받은 요청
            h5.mb-4
                .list-group-item
                    each e in reqreceived
                        div.mb-4
                            | #{e.sender_id}(#{e.sender_nick})
                            .float-right
                                a.btn.btn-primary.mr-2.ml-5(href=`/friends/allow/${e.sender_id}`) 수락
                                a.btn.btn-primary(href=`/friends/reject/${e.sender_id}`) 거절
                            br
                            | #{e.req_time}
                        
            h2.mb-2
                |보낸 요청
            h5.mb-4
                .list-group-item
                    each e in reqsent
                        div.mb-4
                            | #{e.receiver_id}(#{e.receiver_nick})
                            .float-right
                                a.btn.btn-primary.mr-2.ml-5(href=`/friends/cancel/${e.receiver_id}`) 취소
                            br
                            | #{e.req_time}
            h2.mb-2
                |친구 목록
            h5.mb-4
                .list-group-item
                    each e in friendlist
                        div.mb-4
                            | #{e.id}(#{e.nick})
                            a.btn.btn-primary.ml-5.float-right(href=`/friends/delete/${e.id}`) 삭제
                            br
                            | #{e.friend_date}
            h2.mb-2
                |차단 목록
            h5.mb-4
                .list-group-item
                    each e in blacklist
                        div.mb-4
                            | #{e.id}(#{e.nick}) 
                            a.btn.btn-primary.ml-5.float-right(href=`/friends/unblack/${e.id}`) 삭제
                            br
                            | #{e.black_date}
                            br